# 메모리가 유지되는 Agents

이 튜토리얼은 영구 메모리를 활용하여 여러 상호 작용에 걸쳐 정보를 기억할 수 있는 Strands Agents를 구축하는 방법을 보여줍니다. 메모리 지속성을 사용하면 에이전트가 재시작된 후에도 컨텍스트를 유지하고 이전 대화의 정보를 기억할 수 있습니다.

## 핵심 개념

- **Agent Memory**: 에이전트가 이전 대화의 정보를 저장하고 기억할 수 있게 합니다
- **Persistence**: 에이전트를 재시작한 후에도 정보가 유지됩니다
- **Vector Storage**: 벡터 임베딩을 사용하여 의미적으로 유사한 정보를 저장하고 검색합니다
- **Implementation**: [mem0.ai](https://mem0.ai)의 `mem0_memory` 도구를 사용합니다

## 메모리 백엔드 옵션

이 튜토리얼은 세 가지 다른 메모리 백엔드 구성을 지원합니다:

1. **OpenSearch Serverless** (AWS 환경에 권장):
   - 벡터 저장을 위한 완전 관리형 AWS 서비스
   - AWS 자격 증명 및 권한 필요
   - 제공된 스크립트로 자동 배포

2. **FAISS** (로컬 개발의 기본값):
   - 외부 서비스가 필요 없는 로컬 벡터 저장소
   - 개발 및 테스트에 적합
   - 프로세스가 종료되면 메모리가 손실됨

3. **Mem0 Platform**:
   - [mem0.ai](https://mem0.ai)의 클라우드 기반 메모리 서비스
   - Mem0 API 키 필요
   - 구성 세부 정보는 노트북 참조

## 사용 사례

- 사용자 선호도를 기억하는 개인 비서
- 대화 컨텍스트를 유지하는 고객 지원 봇
- 학습 진행 상황을 추적하는 교육 에이전트
- 회사별 정보를 기억하는 기업 비서
- 대화 기록이 가치를 더하는 모든 애플리케이션

## 시작하기

### 사전 요구사항
- Python 3.10+
- 적절한 권한이 있는 AWS 계정 (OpenSearch 옵션용)
- Amazon Bedrock에서 활성화된 Anthropic Claude 모델

### 옵션 1: 대화형 노트북
포함된 Jupyter 노트북을 실행하여 Strands 에이전트의 메모리 개념 및 구현을 이해합니다: `./personal_agent_with_memory.ipynb`

### 옵션 2: 명령줄 데모
대화형 채팅 경험을 위해:

1. 종속성 설치:
   ```
   pip install -r requirements.txt
   ```

2. OpenSearch 서버리스 리소스 생성:
   ```
   sh prereqs/deploy_OSS.sh
   ```

3. 에이전트 실행:
   ```
   python personal_agent_with_memory.py
   ```

4. 질문하거나 정보를 제공하여 에이전트와 상호 작용:
   - "커피보다 차를 선호한다는 것을 기억해주세요"를 시도해 보세요
   - 나중에 "내가 마시는 것을 선호하는 것은 무엇인가요?"라고 물어보세요
   - "memory"라고 말하면 저장된 모든 메모리를 나열합니다

5. 완료되면 OpenSearch 리소스를 삭제합니다:
   ```
   sh prereqs/cleanup_OSS.sh
   ```

## 메모리 작업

에이전트는 세 가지 주요 메모리 작업을 지원합니다:

- **store**: 나중에 검색할 수 있도록 중요한 정보 저장
- **retrieve**: 쿼리를 기반으로 관련 메모리 액세스
- **list**: 저장된 모든 메모리 보기

## 실험 아이디어

- 에이전트에게 개인 정보를 알려주고 나중 대화에서 기억하는지 확인
- 상호 작용 간에 에이전트를 재시작하여 메모리 지속성 테스트
- 비영구 에이전트와 비교하여 사용자 경험의 차이 확인
- 에이전트가 가장 잘 기억하는 정보 유형을 확인하기 위해 다양한 유형의 정보 시도
- 에이전트가 메모리를 사용하여 더 개인화된 응답을 제공하는 방법 탐색

## 아키텍처

튜토리얼은 두 가지 가능한 아키텍처를 보여줍니다:

1. **OpenSearch Serverless**: 프로덕션 사용을 위한 AWS 관리형 벡터 데이터베이스
2. **Mem0 Platform**: 간단한 배포를 위한 클라우드 기반 메모리 서비스

아키텍처 다이어그램 및 자세한 설명은 노트북을 참조하세요.
